use file::*;
use name::*;
use syslib::*;
use ipclib::*;
use mallot::*;
use server::*;


fn main() -> i32 {

    mallot_init();
    let mb = mailbox_new();
    let name_mb: i32 = -1;
    name_mb = new_server(name::SERVER_ID, 10, mb);
    mailbox_move(name_mb as u32, NAME_SERVER);

    let status = 0;
    let no_args = [null];
    let ret = repl();

    if (ret == 0) {
        perform("bad_test", &no_args[0]);
    }

    bide(&status);

    
    abscond(0);
    0
}
